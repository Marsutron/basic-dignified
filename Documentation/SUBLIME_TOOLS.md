# Sublime Text Build And Tools    These are a set of tools developed for **Sublime Text 3 and 4** to improve the experience of working with **Dignified** and **classic** Basic programs.    The current tools are available for **MSX Basic**. A **TRS Color Computer** version is in the works.    The tools are:  - A **Build System** for the **Dignified** and **classic** versions of Basic with **conversion**, **tokenization** and **execution monitoring** capabilities.  - **Syntax Highlight** for the Dignified and classic versions of Basic.  - **Themes** based on Boxy Ocean and Monokai with special scopes for **both** Basic versions.  - A **Theme** simulating the blue **MSX 1 screen** and accompanying **MSX Screen 0 font**.  - **Snippets** for the Dignified version of Basic.  - A **Comment Preference** for the Dignified version.    ## Build System    The Dignified code can be **converted**, **tokenized** and **run** straight from Sublime. It can also have its execution **monitored** for Basic errors and have the offending Dignified lines **tagged back** on Sublime (macOS and Linux. Windows monitoring is coming).  **Classic** MSX Basic can also be **tokenized** and run from Sublime, **no monitoring** here unfortunately.  When **tokenizing**, a **list file** similar to the ones exported by **assemblers** with the tokens alongside the ASCII code and some statistics can also be **exported** (see an example at the [**tokenizer**](https://github.com/farique1/basic-dignified/blob/master/Documentation/TOKENIZER.md) page).  Sublime will display the **build output** on the console and highlight **warnings** and **errors**.    > To **run** the Basic programs, an installed copy of **openMSX** with a machine supporting **disk drive** is needed.    >When using **openMSX** to execute the code, be aware that the **folder** of the **converted code** will be **mounted** on the emulator as a **disk** and all **constrains** of that **filesystem** apply including **file size**, **name size**, **lack of spaces** on the names, etc. The build system will try to **mitigate** some of these but **caution** is the better approach.    ### Building    The builds are **available** from the `Tools > Build System` menu and are called:    `MSX Basic`  `MSX Basic Dignified`    The **build type** can be left on `automatic` when using **syntax scopes** and the default extensions, Sublime will choose and use the **correct** one.  To **run** the build just press **CONTROL-B**/**COMMAND-B** on Sublime.    When **building** the Dignified version the **converted**, classic, code will be **saved** on the **same path** as the Dignified with an `.amx` extension by default. A tokenized version will also be saved with a `.bmx` extension. **openMSX** will then be **opened**, this folder will be **mounted** as a **disk** and the `.bmx` tokenized version will **run**. If **no tokenized** version was saved, the **ASCII** `.amx` version will be **chosen** instead. The **execution** of the code will then be **monitored** on **openMSX** and Basic errors will be **reported** back to Sublime and the correct **line** will be **tagged**. A program *Break* will also be reported and **direct command** errors will generate **warnings**.    When using **openMSX**, the build system will try to internally **conform** the file name to the MSX disk **8 characters and no spaces** but some **conflict** may occur. It is **recommended** to always work with 8 characters and no spaces on the **file names**. An easy way to **change** the output **filename** is to use the ***REM tags***.    > When using `on error` to **catch** and/or **customize** errors on **MSX Basic**, always use a `CHR$(7)` (***BEEP***) character and pass the **line number** at the **end** of the srting on the **error message** to make sure the **monitoring algorithm** will **catch** and **parse** the error and its location correctly.    Each of the **builds** have some **variants** that can be chosen by pressing **CONTROL-SHIFT-B**/**COMMAND-SHIFT-B**.  Once they are **chosen** they will be used as the **default** build until Sublime is **closed** or another variant is **chosen**. They are:    - MSX Basic Dignified:  `Default`: Will **convert**, **tokenize**, **run** and **monitor** the Dignified code.  `Don't monitor`: Will **convert**, **tokenize** and **run** (but not monitor) the Dignified code.  `Convert only`: Will **convert** and **tokenize** (but not run nor monitor) the Dignified code.    - MSX Basic:  `Default`: Will only **run** the classic Basic code.  `Tokenize only`: Will only **tokenize** the classic Basic code.  `Tokenize and save list`: Will **tokenize** the classic Basic code and **save** a `.lmx` list file.  `Tokenize and run`: Will **tokenize** and **run** the classic  Basic code.    **Arguments** passed on the `.ini` file or on ***REM tags*** will **override** the **default** behaviour of the **chosen** build variant.  Every **build** command will open a **new** instance of **openMSX**.    ## Syntax Highlight    **Two** pretty decent **syntax highlights**, one for the **Dignified** and one for the **classic** version are available.    The biggest **differences** between them is the Dignified version expects the **instructions** and **variables** to be **separated** by spaces and the **classic** accepts them typed **together** (as per MSX Basic standards).    The **classic** version has all the Dignified specifics **removed** for simplicity and is the version used by the `.lmx` list format exported by the **tokenizer**.    There is also a **syntax highlight** for the **console** output of the **build** system.    ## Themes    A theme based on **Monokai** and a theme based on **Boxy Ocean** are available. They **improve** the syntax highlight (classic and Dignified) with **scopes** specific for the Dignified code: `define`, `declare`, labels, errors and warnings.    For the truly **adventurous**, there is a theme **mimicking** the blue **MSX 1 screen** and a MSX **Screen 0** **font**.    ## Auto Completion And Snippets    Snippets for auto completion of:   `FOR-NEXT-STEP`   `IF-THEN-ELSE`   `LOCATE-PRINT`   `SCREEN-WIDTH-KEY OFF-COLOR`   `FUNC-RET`    A snippet for the creation of ***REM tags***.    ## Comment Preference    Set `##` as the **default comment** of the Dignified Basic.  `##` is a Dignified **comment** that is **deleted** when the code is **converted** to the classic version.  There is **no block comment** but **all lines** selected will be **commented**.    There is **no classic comment** preference as I couldn't find a way to insert the `REM` or `'` AFTER the line number.  ---    ![# MSX1Theme.png](https://github.com/farique1/basic-dignified/blob/main/Images/MSX1Theme.png)  